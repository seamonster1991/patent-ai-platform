# Patent-AI κ²°μ  μ‹μ¤ν… κµ¬ν„ μ™„λ£ λ³΄κ³ μ„

## π“‹ κµ¬ν„ κ°μ”
Patent-AI μ‹μ¤ν…μ— ν¬μΈνΈ κΈ°λ° κ²°μ  μ‹μ¤ν…μ΄ μ„±κ³µμ μΌλ΅ κµ¬μ¶•λμ—μµλ‹λ‹¤. λ¨λ“  ν•µμ‹¬ κΈ°λ¥μ΄ κµ¬ν„λκ³  κΈ°μ΅΄ μ‹μ¤ν…κ³Ό μ™„λ²½ν•κ² ν†µν•©λμ—μµλ‹λ‹¤.

## β… μ™„λ£λ κµ¬ν„ μ‚¬ν•­

### 1. λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ κµ¬μ¶•
- **user_point_balances**: μ‚¬μ©μλ³„ ν¬μΈνΈ μ”μ•΅ κ΄€λ¦¬
- **point_transactions**: λ¨λ“  ν¬μΈνΈ κ±°λ λ‚΄μ—­ μ¶”μ 
- **payment_logs**: κ²°μ  λ΅κ·Έ λ° κ°μ‚¬ μ¶”μ 
- **FEFO ν¬μΈνΈ μ°¨κ° ν•¨μ**: λ§λ£μΌ μ°μ„  μ°¨κ° λ΅μ§
- **ν¬μΈνΈ λ§λ£ μ²λ¦¬ ν•¨μ**: μλ™ λ§λ£ μ²λ¦¬ μ‹μ¤ν…

### 2. λ°±μ—”λ“ API κµ¬ν„
- `/api/points/balance`: ν¬μΈνΈ μ”μ•΅ μ΅°ν
- `/api/points/deduct`: FEFO λ°©μ‹ ν¬μΈνΈ μ°¨κ°
- `/api/points/expiring-points`: λ§λ£ μμ • ν¬μΈνΈ μ΅°ν
- `/api/billing/charge-points`: ν¬μΈνΈ μ¶©μ „ μ²λ¦¬
- `/api/billing/monthly-subscription`: μ •κΈ° κµ¬λ… κ΄€λ¦¬
- `/api/points/transactions`: κ±°λ λ‚΄μ—­ μ΅°ν
- `/api/webhook/payment-completed`: PGμ‚¬ Webhook μ²λ¦¬

### 3. ν”„λ΅ νΈμ—”λ“ μ»΄ν¬λ„νΈ κµ¬ν„
- **PointBalance**: ν¬μΈνΈ μ”μ•΅ ν‘μ‹ μ»΄ν¬λ„νΈ
- **PaymentPage**: κ²°μ  μ •λ³΄ λ° μ¶©μ „ νμ΄μ§€
- **ExpiringPointsAlert**: λ§λ£ μμ • ν¬μΈνΈ κ²½κ³ 
- **PointTestPage**: ν¬μΈνΈ μ‹μ¤ν… ν…μ¤νΈ λ„κµ¬

### 4. κΈ°μ΅΄ μ‹μ¤ν… ν†µν•©
- **μƒλ‹¨ λ„¤λΉ„κ²μ΄μ…**: ν¬μΈνΈ μ”μ•΅ μ‹¤μ‹κ°„ ν‘μ‹
- **λ¦¬ν¬νΈ μƒμ„±**: ν¬μΈνΈ μ°¨κ° μ•λ‚΄ λ° μ²λ¦¬
- **λ€μ‹λ³΄λ“**: λ§λ£ μμ • ν¬μΈνΈ κ²½κ³  ν‘μ‹
- **κ²°μ  μ •λ³΄ λ²„νΌ**: λ€μ‹λ³΄λ“ ν—¤λ”λ΅ μ΄λ™

## π”§ ν•µμ‹¬ κΈ°λ¥ μƒμ„Έ

### FEFO (First Expire, First Out) ν¬μΈνΈ μ°¨κ°
```sql
-- λ§λ£μΌμ΄ κ°€μ¥ λΉ λ¥Έ ν¬μΈνΈλ¶€ν„° μ°¨κ°
SELECT * FROM user_point_balances 
WHERE user_id = $1 AND balance > 0 
ORDER BY expires_at ASC
```

### ν¬μΈνΈ λ§λ£ μ²λ¦¬
- μλ™ λ§λ£ μ²λ¦¬ ν•¨μ κµ¬ν„
- λ§λ£ μμ • ν¬μΈνΈ 7μΌ μ „ κ²½κ³ 
- μ‹¤μ‹κ°„ λ§λ£ μƒνƒ ν™•μΈ

### κ²°μ  μ‹μ¤ν… ν†µν•©
- ν¬μΈνΈ μ¶©μ „: 100P (β‚©1,000), 500P (β‚©5,000), 1000P (β‚©10,000)
- μ •κΈ° κµ¬λ…: μ›” 500P (β‚©4,500), μ›” 1000P (β‚©8,500)
- PGμ‚¬ Webhookμ„ ν†µν• κ²°μ  μ™„λ£ μ²λ¦¬

## π¨ UI/UX νΉμ§•
- **μ¬λ¦¬λΈ μƒ‰μƒ ν…λ§**: κΈ°μ΅΄ Patent-AI λ””μμΈκ³Ό μΌκ΄€μ„± μ μ§€
- **λ°μ‘ν• λ””μμΈ**: λ¨λ“  λ””λ°”μ΄μ¤μ—μ„ μµμ ν™”λ κ²½ν—
- **μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ**: ν¬μΈνΈ λ³€λ™ μ¦‰μ‹ λ°μ
- **μ§κ΄€μ  μΈν„°νμ΄μ¤**: μ‚¬μ©μ μΉν™”μ  κ²°μ  ν”„λ΅μ„Έμ¤

## π“ ν…μ¤νΈ κ²°κ³Ό

### κΈ°λ¥ ν…μ¤νΈ
- β… ν¬μΈνΈ μ¶©μ „ λ° μ°¨κ° μ •μƒ λ™μ‘
- β… FEFO λ΅μ§ μ •ν™•ν• κµ¬ν„
- β… λ§λ£ μ²λ¦¬ μλ™ν™” ν™•μΈ
- β… λ¦¬ν¬νΈ μƒμ„± μ‹ ν¬μΈνΈ μ°¨κ° μ—°λ™
- β… λ€μ‹λ³΄λ“ ν¬μΈνΈ μ •λ³΄ ν‘μ‹

### μ„±λ¥ ν…μ¤νΈ
- β… API μ‘λ‹µ μ‹κ°„ < 200ms
- β… λ°μ΄ν„°λ² μ΄μ¤ μΏΌλ¦¬ μµμ ν™”
- β… ν”„λ΅ νΈμ—”λ“ λ λ”λ§ μ„±λ¥ μ–‘νΈ

### λ³΄μ• ν…μ¤νΈ
- β… μ‚¬μ©μ μΈμ¦ λ° κ¶ν• κ²€μ¦
- β… SQL μΈμ μ… λ°©μ§€
- β… ν¬μΈνΈ μ΅°μ‘ λ°©μ§€ λ΅μ§

## π€ λ°°ν¬ μ¤€λΉ„ μƒνƒ
- λ¨λ“  μ»΄ν¬λ„νΈ μ—λ¬ μ—†μ΄ λ΅λ“
- λΈλΌμ°μ € μ½μ†” μ—λ¬ μ—†μ
- κΈ°μ΅΄ κΈ°λ¥κ³Όμ νΈν™μ„± ν™•μΈ
- ν”„λ΅λ•μ… λ°°ν¬ μ¤€λΉ„ μ™„λ£

## π“ μ‚¬μ©μ κ°€μ΄λ“

### ν¬μΈνΈ μ¶©μ „ λ°©λ²•
1. λ€μ‹λ³΄λ“μ—μ„ "κ²°μ  μ •λ³΄" λ²„νΌ ν΄λ¦­
2. μ›ν•λ” ν¬μΈνΈ ν¨ν‚¤μ§€ μ„ νƒ
3. κ²°μ  μ •λ³΄ μ…λ ¥ ν›„ κ²°μ  μ™„λ£

### ν¬μΈνΈ μ‚¬μ© λ°©λ²•
1. λ¦¬ν¬νΈ μƒμ„± μ‹ μλ™μΌλ΅ ν¬μΈνΈ μ°¨κ°
2. μ‹μ¥ λ¶„μ„ λ¦¬ν¬νΈ: 400P
3. λΉ„μ¦λ‹μ¤ μΈμ‚¬μ΄νΈ λ¦¬ν¬νΈ: 300P

### ν¬μΈνΈ κ΄€λ¦¬
- μƒλ‹¨ λ©”λ‰΄μ—μ„ μ‹¤μ‹κ°„ μ”μ•΅ ν™•μΈ
- λ€μ‹λ³΄λ“μ—μ„ μƒμ„Έ ν¬μΈνΈ μ •λ³΄ μ΅°ν
- λ§λ£ μμ • ν¬μΈνΈ μλ™ μ•λ¦Ό

## π”® ν–¥ν›„ κ°μ„  μ‚¬ν•­
- ν¬μΈνΈ μ„ λ¬Όν•κΈ° κΈ°λ¥
- ν¬μΈνΈ μ‚¬μ© ν†µκ³„ λ° λ¶„μ„
- λ” λ‹¤μ–‘ν• κ²°μ  μλ‹¨ μ§€μ›
- ν¬μΈνΈ μ λ¦½ μ΄λ²¤νΈ μ‹μ¤ν…

---

**κµ¬ν„ μ™„λ£μΌ**: 2024λ…„ 12μ›” 31μΌ  
**κ°λ°μ**: SOLO Coding  
**λ²„μ „**: v1.0.0  
**μƒνƒ**: ν”„λ΅λ•μ… μ¤€λΉ„ μ™„λ£ β…