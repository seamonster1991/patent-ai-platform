-- 현재 로그인한 사용자 (276975db-635b-4c77-87a0-548f91b14231)에 대한 테스트 데이터 생성

-- 1. 사용자 기본 정보 업데이트 (이미 존재하는 경우)
UPDATE users 
SET 
  total_searches = 45,
  total_detail_views = 28,
  total_logins = 15,
  total_usage_cost = 125.50,
  updated_at = NOW()
WHERE id = '276975db-635b-4c77-87a0-548f91b14231';

-- 2. 검색 기록 데이터 삽입
INSERT INTO search_history (user_id, keyword, results_count, technology_field, created_at) VALUES
('276975db-635b-4c77-87a0-548f91b14231', '인공지능', 25, 'AI/ML', '2025-10-01 09:30:00'),
('276975db-635b-4c77-87a0-548f91b14231', '머신러닝', 18, 'AI/ML', '2025-10-02 14:20:00'),
('276975db-635b-4c77-87a0-548f91b14231', '블록체인', 22, '블록체인', '2025-10-03 11:15:00'),
('276975db-635b-4c77-87a0-548f91b14231', '양자컴퓨팅', 12, '양자기술', '2025-10-04 16:45:00'),
('276975db-635b-4c77-87a0-548f91b14231', '바이오기술', 30, '바이오', '2025-10-05 10:30:00'),
('276975db-635b-4c77-87a0-548f91b14231', '반도체', 35, '반도체', '2025-09-28 13:20:00'),
('276975db-635b-4c77-87a0-548f91b14231', '자율주행', 28, '자동차', '2025-09-29 15:10:00'),
('276975db-635b-4c77-87a0-548f91b14231', '5G통신', 20, '통신', '2025-09-30 09:45:00');

-- 3. 특허 상세 조회 기록 삽입
INSERT INTO patent_detail_views (user_id, application_number, title, viewed_at) VALUES
('276975db-635b-4c77-87a0-548f91b14231', '1020230115700', '인공지능 기반 특허 분석 시스템', '2025-10-01 10:00:00'),
('276975db-635b-4c77-87a0-548f91b14231', '1020230115701', '머신러닝을 이용한 데이터 처리 방법', '2025-10-02 14:30:00'),
('276975db-635b-4c77-87a0-548f91b14231', '1020230115702', '블록체인 기반 보안 시스템', '2025-10-03 11:45:00'),
('276975db-635b-4c77-87a0-548f91b14231', '1020230115703', '양자 암호화 통신 방법', '2025-10-04 17:00:00'),
('276975db-635b-4c77-87a0-548f91b14231', '1020230115704', '바이오 센서 기술', '2025-10-05 10:45:00');

-- 4. AI 분석 보고서 데이터 삽입
INSERT INTO ai_analysis_reports (user_id, patent_id, analysis_type, report_content, created_at) VALUES
('276975db-635b-4c77-87a0-548f91b14231', '1020230115700', 'technology_analysis', '{"summary": "AI 기반 특허 분석", "score": 85}', '2025-10-01 10:15:00'),
('276975db-635b-4c77-87a0-548f91b14231', '1020230115701', 'market_analysis', '{"summary": "머신러닝 시장 분석", "score": 78}', '2025-10-02 14:45:00'),
('276975db-635b-4c77-87a0-548f91b14231', '1020230115702', 'technology_analysis', '{"summary": "블록체인 기술 분석", "score": 92}', '2025-10-03 12:00:00'),
('276975db-635b-4c77-87a0-548f91b14231', '1020230115703', 'patent_landscape', '{"summary": "양자기술 특허 동향", "score": 88}', '2025-10-04 17:15:00');

-- 5. 사용자 로그인 기록 삽입
INSERT INTO user_login_logs (user_id, login_time, ip_address, user_agent) VALUES
('276975db-635b-4c77-87a0-548f91b14231', '2025-10-01 09:00:00', '192.168.1.100', 'Mozilla/5.0'),
('276975db-635b-4c77-87a0-548f91b14231', '2025-10-02 08:30:00', '192.168.1.100', 'Mozilla/5.0'),
('276975db-635b-4c77-87a0-548f91b14231', '2025-10-03 09:15:00', '192.168.1.100', 'Mozilla/5.0'),
('276975db-635b-4c77-87a0-548f91b14231', '2025-10-04 10:00:00', '192.168.1.100', 'Mozilla/5.0'),
('276975db-635b-4c77-87a0-548f91b14231', '2025-10-05 08:45:00', '192.168.1.100', 'Mozilla/5.0');

-- 6. 사용 비용 추적 데이터 삽입
INSERT INTO usage_cost_tracking (user_id, service_type, cost_amount, usage_date, details) VALUES
('276975db-635b-4c77-87a0-548f91b14231', 'ai_analysis', 25.50, '2025-10-01', '{"tokens": 1500, "model": "gpt-4"}'),
('276975db-635b-4c77-87a0-548f91b14231', 'search', 15.00, '2025-10-02', '{"queries": 10}'),
('276975db-635b-4c77-87a0-548f91b14231', 'ai_analysis', 30.00, '2025-10-03', '{"tokens": 2000, "model": "gpt-4"}'),
('276975db-635b-4c77-87a0-548f91b14231', 'search', 20.00, '2025-10-04', '{"queries": 15}'),
('276975db-635b-4c77-87a0-548f91b14231', 'ai_analysis', 35.00, '2025-10-05', '{"tokens": 2500, "model": "gpt-4"}');

-- 7. 사용자 활동 데이터 삽입 (최근 30일간)
INSERT INTO user_activities (user_id, activity_type, activity_data, created_at) VALUES
-- 검색 활동
('276975db-635b-4c77-87a0-548f91b14231', 'search', '{"keyword": "인공지능", "results": 25}'::jsonb, '2025-10-01 09:30:00'),
('276975db-635b-4c77-87a0-548f91b14231', 'search', '{"keyword": "머신러닝", "results": 18}'::jsonb, '2025-10-02 14:20:00'),
('276975db-635b-4c77-87a0-548f91b14231', 'search', '{"keyword": "블록체인", "results": 22}'::jsonb, '2025-10-03 11:15:00'),
('276975db-635b-4c77-87a0-548f91b14231', 'search', '{"keyword": "양자컴퓨팅", "results": 12}'::jsonb, '2025-10-04 16:45:00'),
('276975db-635b-4c77-87a0-548f91b14231', 'search', '{"keyword": "바이오기술", "results": 30}'::jsonb, '2025-10-05 10:30:00'),
('276975db-635b-4c77-87a0-548f91b14231', 'search', '{"keyword": "반도체", "results": 35}'::jsonb, '2025-09-28 13:20:00'),
('276975db-635b-4c77-87a0-548f91b14231', 'search', '{"keyword": "자율주행", "results": 28}'::jsonb, '2025-09-29 15:10:00'),
('276975db-635b-4c77-87a0-548f91b14231', 'search', '{"keyword": "5G통신", "results": 20}'::jsonb, '2025-09-30 09:45:00'),

-- 상세 조회 활동
('276975db-635b-4c77-87a0-548f91b14231', 'detail_view', '{"patent_id": "1020230115700", "title": "인공지능 기반 특허 분석 시스템"}'::jsonb, '2025-10-01 10:00:00'),
('276975db-635b-4c77-87a0-548f91b14231', 'detail_view', '{"patent_id": "1020230115701", "title": "머신러닝을 이용한 데이터 처리 방법"}'::jsonb, '2025-10-02 14:30:00'),
('276975db-635b-4c77-87a0-548f91b14231', 'detail_view', '{"patent_id": "1020230115702", "title": "블록체인 기반 보안 시스템"}'::jsonb, '2025-10-03 11:45:00'),
('276975db-635b-4c77-87a0-548f91b14231', 'detail_view', '{"patent_id": "1020230115703", "title": "양자 암호화 통신 방법"}'::jsonb, '2025-10-04 17:00:00'),
('276975db-635b-4c77-87a0-548f91b14231', 'detail_view', '{"patent_id": "1020230115704", "title": "바이오 센서 기술"}'::jsonb, '2025-10-05 10:45:00'),

-- 로그인 활동
('276975db-635b-4c77-87a0-548f91b14231', 'login', '{"ip": "192.168.1.100", "user_agent": "Mozilla/5.0"}'::jsonb, '2025-10-01 09:00:00'),
('276975db-635b-4c77-87a0-548f91b14231', 'login', '{"ip": "192.168.1.100", "user_agent": "Mozilla/5.0"}'::jsonb, '2025-10-02 08:30:00'),
('276975db-635b-4c77-87a0-548f91b14231', 'login', '{"ip": "192.168.1.100", "user_agent": "Mozilla/5.0"}'::jsonb, '2025-10-03 09:15:00'),
('276975db-635b-4c77-87a0-548f91b14231', 'login', '{"ip": "192.168.1.100", "user_agent": "Mozilla/5.0"}'::jsonb, '2025-10-04 10:00:00'),
('276975db-635b-4c77-87a0-548f91b14231', 'login', '{"ip": "192.168.1.100", "user_agent": "Mozilla/5.0"}'::jsonb, '2025-10-05 08:45:00');